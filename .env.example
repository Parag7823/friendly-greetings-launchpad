# Finley AI Backend Environment Variables
# Copy this file to .env and fill in your actual values

# ============================================================================
# REQUIRED - Core Services
# ============================================================================

# Supabase Configuration
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# OpenAI Configuration
OPENAI_API_KEY=your-openai-api-key-here

# ============================================================================
# OPTIONAL - Performance Optimizations
# ============================================================================

# Redis Configuration (Optional - for enhanced performance)
# If not provided, system will use database-only job queue
REDIS_URL=redis://localhost:6379

# Alternative Redis configurations:
# REDIS_URL=redis://username:password@hostname:port/database
# REDIS_URL=rediss://username:password@hostname:port/database  # SSL

# ============================================================================
# OPTIONAL - Performance Tuning
# ============================================================================

# Job Processing Configuration
MAX_CONCURRENT_JOBS=10
REDIS_MAX_CONNECTIONS=20
DATABASE_POOL_SIZE=20

# Retry Configuration
DEFAULT_MAX_RETRIES=3
DEFAULT_RETRY_BACKOFF_FACTOR=2.0
DEFAULT_MAX_RETRY_DELAY=300

# File Processing Configuration
MAX_FILE_SIZE_MB=500
MAX_BATCH_SIZE=100

# ============================================================================
# OPTIONAL - Monitoring and Logging
# ============================================================================

# Logging Level
LOG_LEVEL=INFO

# Performance Monitoring
ENABLE_PERFORMANCE_METRICS=true
METRICS_RETENTION_DAYS=30

# Health Check Configuration
HEALTH_CHECK_INTERVAL_SECONDS=60

# ============================================================================
# DEVELOPMENT - Frontend Integration
# ============================================================================

# Frontend URLs (for CORS)
FRONTEND_URL=http://localhost:3000
VITE_FRONTEND_URL=http://localhost:5173

# ============================================================================
# PRODUCTION - Deployment Configuration
# ============================================================================

# Server Configuration
HOST=0.0.0.0
PORT=8000

# Security
ALLOWED_HOSTS=localhost,127.0.0.1,your-domain.com
CORS_ORIGINS=https://your-frontend-domain.com

# Database Connection Pool
DB_POOL_MIN_SIZE=5
DB_POOL_MAX_SIZE=20
DB_POOL_TIMEOUT=30

# ============================================================================
# OPTIONAL - Advanced Features
# ============================================================================

# OCR Configuration (for image processing)
TESSERACT_CMD=/usr/bin/tesseract

# PDF Processing
TABULA_JAR_PATH=/path/to/tabula.jar

# File Storage
TEMP_DIR=/tmp/finley-processing
MAX_TEMP_FILE_AGE_HOURS=24

# ============================================================================
# NOTES
# ============================================================================

# 1. REQUIRED variables must be set for the application to work
# 2. OPTIONAL variables have sensible defaults if not provided
# 3. Redis is optional but recommended for production deployments
# 4. Performance tuning variables can be adjusted based on your server specs
# 5. All URLs should include the protocol (http:// or https://)
# 6. For production, use strong, unique values for all keys
# 7. Never commit your actual .env file to version control

# ============================================================================
# QUICK START
# ============================================================================

# For local development, you only need:
# 1. SUPABASE_URL
# 2. SUPABASE_SERVICE_ROLE_KEY  
# 3. OPENAI_API_KEY

# For production, additionally set:
# 4. REDIS_URL (recommended)
# 5. CORS_ORIGINS
# 6. ALLOWED_HOSTS

@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Satoshi:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap');
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* The Executive Theme - Midnight Navy & Copper */
    
    /* Primary Backgrounds */
    --background: 217 33% 2%;
    /* #020617 - Void Navy (deepest blue, almost black) */
    --foreground: 220 13% 91%;
    /* #e2e8f0 - Platinum (high contrast, softer than white) */

    --card: 217 33% 9%;
    /* #0f172a - Deep River (slightly lighter navy for cards) */
    --card-foreground: 220 13% 91%;
    /* #e2e8f0 - Platinum text on cards */

    --popover: 217 33% 9%;
    /* #0f172a - Deep River for popovers */
    --popover-foreground: 220 13% 91%;
    /* #e2e8f0 - Platinum text */

    /* Primary Accent - Electric Copper */
    --primary: 38 92% 50%;
    /* #f59e0b - Electric Copper for primary buttons and active states */
    --primary-foreground: 217 33% 2%;
    /* #020617 - Void Navy text on copper buttons */

    /* Secondary - Platinum */
    --secondary: 220 13% 91%;
    /* #e2e8f0 - Platinum for secondary elements */
    --secondary-foreground: 217 33% 2%;
    /* #020617 - Void Navy text on platinum */

    /* Muted - Subtle navy tones */
    --muted: 217 33% 15%;
    /* Muted navy background */
    --muted-foreground: 220 13% 60%;
    /* Muted text */

    /* Accent - Electric Copper */
    --accent: 38 92% 50%;
    /* #f59e0b - Electric Copper for accents */
    --accent-foreground: 217 33% 2%;
    /* #020617 - Void Navy text on copper accents */

    /* Status Colors */
    --destructive: 356 100% 71%;
    /* #f43f5e - Rose for errors and negative trends */
    --destructive-foreground: 220 13% 91%;
    /* Platinum text on destructive */

    /* Borders and Inputs */
    --border: 217 33% 15%;
    /* Subtle navy borders */
    --input: 217 33% 9%;
    /* #0f172a - Deep River for input backgrounds */
    --ring: 38 92% 50%;
    /* #f59e0b - Electric Copper for focus rings */

    --radius: 0.5rem;
    /* 8px border radius */

    /* Finley AI Custom Variables */
    --finley-accent: 38 92% 50%;
    /* #f59e0b - Electric Copper brand accent */
    --finley-light-accent: 38 92% 60%;
    /* Lighter copper for hover states */
    --finley-shadow: 217 33% 2%;
    /* Void Navy for shadows */
    
    /* Status Colors */
    --success: 16 100% 66%;
    /* #10b981 - Emerald for positive trends */
    --error: 356 100% 71%;
    /* #f43f5e - Rose for negative trends */

    /* Neutral/Muted Tones for UI Hierarchy */
    --slate-800: 217 33% 15%;
    /* #1e293b - Hover states on cards, secondary backgrounds */
    --slate-700: 217 33% 20%;
    /* #334155 - Borders and dividers */
    --slate-500: 217 33% 40%;
    /* #64748b - Secondary text (labels, timestamps, disabled states) */
    --slate-400: 217 33% 55%;
    /* #94a3b8 - Tertiary text, muted foreground */

    /* Secondary Accent - Steel Blue (for secondary actions) */
    --secondary-accent: 217 91% 60%;
    /* #3b82f6 - Steel Blue for secondary buttons, "Cancel", "View Details" */

    /* Accessibility: Lighter Copper for Text Contrast */
    --copper-light: 38 92% 60%;
    /* #fbbf24 - Lighter copper for text (7:1 contrast ratio on navy) */
    --copper-dark: 38 92% 50%;
    /* #f59e0b - Original copper for large elements (buttons, icons) */

    /* Data Visualization Palette */
    --chart-copper: 38 92% 50%;
    /* #f59e0b - Primary data color */
    --chart-teal: 174 100% 29%;
    /* #0d9488 - Secondary data color */
    --chart-purple: 280 85% 44%;
    /* #9333ea - Tertiary data color */
    --chart-orange: 25 95% 53%;
    /* #f97316 - Quaternary data color */
    --chart-pink: 330 81% 60%;
    /* #ec4899 - Quinary data color */
    --chart-cyan: 188 94% 50%;
    /* #06b6d4 - Senary data color */

    /* Gradients */
    --gradient-primary: linear-gradient(135deg, hsl(var(--primary)), hsl(var(--finley-light-accent)));
    --gradient-subtle: linear-gradient(180deg, hsl(var(--background)), hsl(var(--card)));
    --gradient-chart: linear-gradient(135deg, hsl(var(--background)), hsl(var(--primary)));

    /* Animations */
    --transition-smooth: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    --transition-fast: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  }

  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    font-family: 'Inter', system-ui, -apple-system, sans-serif;
    font-feature-settings: "cv11", "ss01";
    font-variation-settings: "opsz" 32;
    background: linear-gradient(135deg, #020617 0%, #0a1628 100%);
    /* FIX #3: Add comfortable line-height for readability (1.6x instead of browser default 1.2-1.3) */
    line-height: 1.6;
    /* FIX #3: Add letter-spacing for breathing room between characters */
    letter-spacing: 0.01em;
  }

  /* Enforce tabular numbers for grids and tables - ensures columns align perfectly */
  .ag-theme-alpine-dark,
  table,
  [role="grid"],
  [role="table"],
  .data-table,
  .financial-grid {
    font-feature-settings: "tnum";
    font-variant-numeric: tabular-nums;
  }

  /* Custom scrollbar for dark theme */
  ::-webkit-scrollbar {
    width: 6px;
  }

  ::-webkit-scrollbar-track {
    @apply bg-background;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-muted rounded-full;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-muted-foreground;
  }
}

@layer components {

  /* Finley AI specific components */
  .finley-button {
    @apply inline-flex items-center justify-center gap-2 rounded-lg px-4 py-2 text-sm font-medium;
    @apply bg-primary text-primary-foreground hover:bg-primary/90;
    @apply transition-all duration-200 ease-in-out;
    @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring;
    @apply disabled:pointer-events-none disabled:opacity-50;
  }

  .finley-button-outline {
    @apply finley-button bg-transparent border border-border text-foreground;
    @apply hover:bg-accent hover:text-accent-foreground;
  }

  /* Primary Action Button - Electric Copper (high emphasis) */
  .finley-button-primary {
    @apply finley-button bg-primary text-primary-foreground;
    @apply hover:bg-copper-dark hover:shadow-lg;
  }

  /* Secondary Action Button - Steel Blue (medium emphasis) */
  .finley-button-secondary {
    @apply inline-flex items-center justify-center gap-2 rounded-lg px-4 py-2 text-sm font-medium;
    @apply bg-steel-blue text-white hover:bg-blue-600;
    @apply transition-all duration-200 ease-in-out;
    @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring;
    @apply disabled:pointer-events-none disabled:opacity-50;
  }

  /* Tertiary Action Button - Muted (low emphasis) */
  .finley-button-tertiary {
    @apply finley-button bg-transparent border border-slate-700 text-slate-400;
    @apply hover:bg-slate-800 hover:text-slate-300 hover:border-slate-600;
  }

  /* Disabled State Styling */
  .finley-button:disabled {
    @apply opacity-50 cursor-not-allowed;
  }

  .finley-card {
    @apply rounded-lg border bg-card text-card-foreground shadow-sm;
    @apply transition-all duration-200 ease-in-out;
  }

  .finley-sidebar {
    @apply h-full bg-card border-r border-border;
    @apply transition-all duration-300 ease-in-out;
  }

  .finley-chat {
    @apply flex-1 bg-background;
  }

  /* Upload area styling */
  .upload-zone {
    @apply border-2 border-dashed border-border rounded-lg p-6;
    @apply transition-colors duration-200 ease-in-out;
    @apply hover:border-finley-accent hover:bg-accent/50;
  }

  .upload-zone.drag-over {
    @apply border-primary bg-primary/10;
  }
}

@layer utilities {

  /* Custom animations */
  .animate-fade-in {
    animation: fadeIn 0.3s ease-out;
  }

  .animate-slide-up {
    animation: slideUp 0.4s ease-out;
  }

  .animate-scale-in {
    animation: scaleIn 0.2s ease-out;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(10px);
    }

    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes slideUp {
    from {
      opacity: 0;
      transform: translateY(20px);
    }

    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes scaleIn {
    from {
      opacity: 0;
      transform: scale(0.95);
    }

    to {
      opacity: 1;
      transform: scale(1);
    }
  }

  @keyframes gradient-shift {
    0% {
      background-position: 0% 50%;
    }

    50% {
      background-position: 100% 50%;
    }

    100% {
      background-position: 0% 50%;
    }
  }

  .animate-gradient {
    background-size: 200% 200%;
    animation: gradient-shift 3s ease infinite;
  }

  /* Hover effects */
  .hover-lift {
    @apply transition-transform duration-200 ease-in-out hover:scale-105;
  }

  .hover-glow {
    @apply transition-shadow duration-200 ease-in-out;
  }

  .hover-glow:hover {
    box-shadow: 0 0 20px rgba(160, 160, 160, 0.3);
  }

  /* Dynamic Black - The beautiful gradient black from StarBorder */
  .dynamic-black {
    @apply bg-gradient-to-b from-background via-background to-muted/50;
    @apply border-border/60;
  }

  .dynamic-black-dark {
    @apply dark:from-zinc-900 dark:via-zinc-900 dark:to-zinc-800 dark:border-zinc-700;
  }

  /* Combined dynamic black for easy use */
  .finley-dynamic-bg {
    @apply bg-gradient-to-b from-background via-background to-muted/50 border-border/60;
    @apply dark:from-zinc-900 dark:via-zinc-900 dark:to-zinc-800 dark:border-zinc-700;
    @apply transition-all duration-200;
  }

  /* Typography Utilities */
  .text-secondary {
    @apply text-slate-500;
  }

  .text-tertiary {
    @apply text-slate-400;
  }

  .text-label {
    @apply text-xs font-medium text-slate-500 uppercase tracking-wider;
  }

  .text-timestamp {
    @apply text-xs font-medium text-slate-500;
  }

  /* FIX #1: Chat message typography hierarchy */
  .chat-message-user {
    @apply text-sm font-normal text-foreground;
  }

  .chat-message-ai {
    @apply text-sm font-normal text-white;
  }

  .chat-message-timestamp {
    @apply text-xs font-medium text-slate-500 mt-2;
  }

  /* FIX #2: Input placeholder contrast */
  .input-placeholder {
    @apply placeholder:text-slate-600 placeholder:font-normal;
  }

  /* FIX #3: Section headers */
  .section-header {
    @apply text-sm font-semibold text-foreground;
  }

  .section-subheader {
    @apply text-xs font-medium text-slate-500;
  }

  /* Data Visualization Utilities */
  .chart-copper {
    @apply text-chart-copper;
  }

  .chart-teal {
    @apply text-chart-teal;
  }

  .chart-purple {
    @apply text-chart-purple;
  }

  .chart-orange {
    @apply text-chart-orange;
  }

  .chart-pink {
    @apply text-chart-pink;
  }

  .chart-cyan {
    @apply text-chart-cyan;
  }

  /* Card Hover States */
  .card-hover {
    @apply transition-all duration-200 ease-in-out hover:bg-slate-800 hover:shadow-lg;
  }

  /* Border Utilities */
  .border-divider {
    @apply border-slate-700;
  }

  .border-subtle {
    @apply border-slate-800;
  }

  /* Accessibility: Text with proper contrast */
  .text-copper-accessible {
    @apply text-copper-light font-medium;
  }

  /* Financial Data Emphasis */
  .financial-positive {
    @apply text-green-400 font-semibold;
  }

  .financial-negative {
    @apply text-rose-400 font-semibold;
  }

  .financial-neutral {
    @apply text-slate-400;
  }

  /* Glassmorphism - Premium frosted glass effect */
  .glass-card {
    background: rgba(15, 23, 42, 0.8);
    backdrop-filter: blur(12px) saturate(180%);
    border: 1px solid rgba(148, 163, 184, 0.2);
  }

  .glass-card-hover {
    @apply glass-card hover:bg-slate-800/60 hover:border-slate-600/40 transition-all duration-200;
  }

  /* Transparent card variants */
  .glass-card-sm {
    background: rgba(15, 23, 42, 0.6);
    backdrop-filter: blur(8px);
    border: 1px solid rgba(148, 163, 184, 0.15);
  }

  .glass-card-lg {
    background: rgba(15, 23, 42, 0.9);
    backdrop-filter: blur(16px) saturate(200%);
    border: 1px solid rgba(148, 163, 184, 0.25);
  }

  /* Modal/Dialog glassmorphism */
  .glass-modal {
    background: rgba(2, 6, 23, 0.95);
    backdrop-filter: blur(20px) saturate(180%);
    border: 1px solid rgba(148, 163, 184, 0.2);
  }

  /* Dropdown menu glassmorphism */
  .glass-dropdown {
    background: rgba(15, 23, 42, 0.85);
    backdrop-filter: blur(12px) saturate(180%);
    border: 1px solid rgba(148, 163, 184, 0.2);
  }
}